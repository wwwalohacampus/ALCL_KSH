<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fetch</title>
  <!-- bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
  <div class="container">
    <div class="row" id="product">

    </div>
  </div>

  <script>
    // 지정한 URL 로 GET(데이터 가져오는) 요청
    fetch('https://xn--pe5b27r.com/api/menu/6a72a7e0-7fde-4a64-b2b4-ec0532908728')
      // 서버로 요청한 응답이 왔을 때, 실행
      .then( response => {
        console.log(response);
        // response.ok : 응답 성공 여부
        if( !response.ok ) {
          console.log('응답 실패!');
        }
        // 응답을 JSON 으로 변환 (문자열데이터를 자바스크립트 객체로 변환)
        return response.json()
      })
      // data : 변환된 객체 데이터 (여기서는 상품 데이터)
      .then( data => {
        console.log(data);
        let card = 
                `
                  <div class="col-6">
                    <div class="card">
                      <img src="${data.img}" alt="">
                      <div class="card-body">
                        <h5 class="card-title">${data.name}</h5>
                        <p class="card-text">${data.brand}</p>
                        <a href="" class="btn btn-primary">자세히 보기</a>
                      </div>
                    </div>
                  </div>
                `
        let product = document.getElementById('product')
        product.innerHTML = card
      })
      // 요청/응답에 문제가 있을 때 실행하는 함수
      .catch( error => {
        console.error('데이터 요청시 에러가 발생하였습니다 : ', error);
      })
  </script>
</body>
</html>